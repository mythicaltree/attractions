# Архитектура встраиваемого ПО БР-01

Архитектура ПО – модульная, микросервисная.

Опорой является ОС Linux OpenWrt-22.03, которая предоставляет широкий набор User-Space API:

- системная шина UBUS
- конфигурирование UCI
- логические порты ввода вывода /dev/ttyUSB, ttyS0
- стандартные сетевые библиотеки

### Основные модули, микросервисы

| Микросервис          | Назначение                                                                                                                                                       |
| -------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`Tsmodem.status`** | Обращается к GSM-модему и предоставляет на системной шине различные характеристики сотовой сети: уровень сигнала, режим связи (3G/4G), статус регистрации и т.д. |
| **`Tsmodem.action`** | Предоставляет на системной шине методы управления GSM-модемом: переключение слотов сим-карт, ping сети и т.п.                                                    |
| **`Tsmstm`**         | Предоставляет на системной шине методы управления микроконтроллером                                                                                              |
| **`Tsmsms`**         | Сервер отправки и получения SMS-сообщений                                                                                                                        |
| **`Tsmconsole`**     | Обслуживает веб-консоль AT-команд                                                                                                                                |
| **`Applogic`**       | Сервис настройки и выполнения основной логики работы прибора                                                                                                     |

### Структурная схема ПО БР-01 (RTR-3)

<image src="/architecturescheme.jpg" alt="Архитектурная схема Bitcord RTR-3"></image>
